import Bool

foo : forall (s : Session) . Chan (Send Bool (Recv Int End)) -> Int
foo c =
  let c      = send c True in
  let (n, c) = recv c      in
  let Unit   = close c     in
  n
